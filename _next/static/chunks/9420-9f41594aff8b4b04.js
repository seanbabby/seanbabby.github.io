(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9420],{9420:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return tT}});var o,i,r,a,l,s,c,d,u,p,_=t(7437),f=t(2265),m=t(9759),x=t(2398),h=t(5977),v=t(4029),g=t.n(v),b=t(7163),y=t.n(b);function w(n){let{name:e}=n;return(0,_.jsx)("div",{className:"".concat(g().commodity_name," ").concat(y().web_20pt_title_m_white_C),children:e})}var j=t(4097),k=t(2562),Z=t(4759),C=t.n(Z),N=t(4999),S=t(4682),I=t(2448);function V(n){let{itemData:e}=n,t=(0,N.ZP)(),o=function(n){var e,t,o,i,r,a,l,s,c,d;let u=(0,N.ZP)();switch(n.category.type){case S.O.systemCoin:return null!==(e=null==u?void 0:u.commodity_info.type_system)&&void 0!==e?e:"系統貨幣";case S.O.questionnaire:return null!==(t=null==u?void 0:u.commodity_info.type_vote)&&void 0!==t?t:"問券調查";case S.O.commission:return"交易_委託";case S.O.authorize:return"開放授權";case S.O.virtualCoin:return null!==(o=null==u?void 0:u.commodity_info.type_digital)&&void 0!==o?o:"數位貨幣";case S.O.virtualTreasure:case S.O.virtualTreasureWithTag:return null!==(i=null==u?void 0:u.commodity_info.type_virtual)&&void 0!==i?i:"虛擬寶物";case S.O.physicalVoucher:return null!==(r=null==u?void 0:u.commodity_info.type_voucher)&&void 0!==r?r:"實體票券";case S.O.hiddenVoucher:if(n.isSerialNumber)return null!==(a=null==u?void 0:u.commodity_info.type_number)&&void 0!==a?a:"序號";return null!==(l=null==u?void 0:u.commodity_info.type_qrcode)&&void 0!==l?l:"QR Code";case S.O.digitVoucher:return null!==(s=null==u?void 0:u.commodity_info.type_eTicket)&&void 0!==s?s:"數位票券";case S.O.idCard:return null!==(c=null==u?void 0:u.commodity_info.type_id)&&void 0!==c?c:"身份識別";case S.O.digitItem:return null!==(d=null==u?void 0:u.commodity_info.type_digital_object)&&void 0!==d?d:"數位物品";default:return""}}(e);return(0,_.jsxs)("div",{className:C().row_main,children:[(0,_.jsx)("div",{className:"".concat(y().web_16pt_body_category_text_L," ").concat(C().row_title),children:null==t?void 0:t.commodity_info.category}),(0,_.jsx)(I.Z,{alt:"",src:e.category.iconPath,className:C().category_icon}),(0,_.jsx)("a",{className:"".concat(y().web_16pt_body_platinum_L," ").concat(C().category_row_name),children:o}),(0,_.jsx)("a",{className:"".concat(y().web_16pt_body_ID_text_L," ").concat(C().category_row_item_serial),children:e.id})]})}function P(n){let{children:e}=n;return(0,_.jsx)("div",{className:C().info_row_container,children:e})}var D=t(8646),E=t(3810),L=t(1208),z=t(9039),T=t(5538),R=t(9631),M=t(8404),F=t(6463);function O(){let n=(0,D._)(["\n  display: flex;\n  flex-direction: row;\n  padding-right: 22px;\n\n  @media (max-width: ",") {\n    flex-direction: column;\n    padding-right: 16px;\n  }\n"]);return O=function(){return n},n}let U=T.Z.div(O(),R.Z.breakpoints.phone);function A(n){var e;let{creator:t,isPublisher:o=!1}=n,[i,r]=(0,f.useState)(""),a=L.Sl.shared,l=new E.E(t.toString()),s=(0,N.ZP)(),c=(0,F.useRouter)();(0,f.useEffect)(()=>{let n={};new URLSearchParams(document.location.search).forEach((e,t)=>{("testing"===t||"lang"===t||"action"===t)&&(n[t]=e)}),r(Object.entries(n).map(n=>{let[e,t]=n;return"".concat(e,"=").concat(t)}).join("&"))},[]);let{data:d,error:u,isLoading:p}=(0,z.ZP)(l.url,()=>a.send(l),{revalidateOnFocus:!1});if(u||p)return null;let m=null==d?void 0:d.userSelectInfoResponse,x=null!==(e=null==m?void 0:m.name)&&void 0!==e?e:"",h=null==m?void 0:m.isOfficial,v=null==m?void 0:m.iconPath;return(0,_.jsxs)("div",{className:C().row_main,children:[(0,_.jsx)("div",{className:"".concat(y().web_16pt_body_category_text_L," ").concat(C().row_title),children:o?null==s?void 0:s.commodity_info.publisher:null==s?void 0:s.commodity_info.creator}),(0,_.jsxs)("div",{className:C().creator_content,onClick:()=>{c.push("/information?phoneNumber=".concat(t,"&").concat(i))},children:[(0,_.jsx)(I.Z,{alt:"",src:v,className:C().creator_official_icon,style:{display:h?"block":"none"}}),(0,_.jsxs)(U,{children:[(0,_.jsx)("div",{className:"".concat(C().creator_name," ").concat(y().web_16pt_body_Indian_yellow_L),children:t}),(0,_.jsx)("div",{className:"".concat(y().web_16pt_body_Indian_yellow_L," ").concat(C().creator_id),children:x})]}),(0,_.jsx)(I.Z,{alt:"",src:M.M.desktop_icon_selection_arrow_right_normal,className:C().creator_arrow_right})]})]})}var K=t(6812),$=t(9550),Q=t(2914);function B(){let n=(0,D._)(["\n  padding-left: 120px;\n  @media (max-width: ",") {\n    padding-left: 100px;\n  }\n"]);return B=function(){return n},n}let J=T.Z.div(B(),R.Z.breakpoints.phone);function q(n){let{type:e,id:t}=n,o=L.Sl.shared,i=(0,N.ZP)(),r=(0,N.ZK)(),[a,l]=(0,f.useState)("");(0,f.useEffect)(()=>{if(i)switch(e){case"說明":l(null==i?void 0:i.commodity_info.info);break;case"問卷簡介":l(null==i?void 0:i.commodity_info.vote_summary);break;default:l(null==i?void 0:i.commodity_info.title)}},[i,null==i?void 0:i.commodity_info.info,null==i?void 0:i.commodity_info.title,null==i?void 0:i.commodity_info.vote_summary,e]);let s="連結"===e?new Q.M(t):new $.I(t),{data:c,error:d,isLoading:u}=(0,z.ZP)(s.url,()=>o.send(s),{revalidateOnFocus:!1});if(c){let n=("連結"===e?c.itemIntroLinkSelectResponse:c.itemDescriptionSelectResponse).getItem().getText(r);return""==n.trim()?null:(0,_.jsxs)("div",{className:C().row_main,children:[(0,_.jsx)("div",{className:"".concat(y().web_16pt_body_category_text_L," ").concat(C().row_link_title),children:a}),(0,_.jsx)(J,{children:(0,_.jsx)(K.Z,{disableUrlStripping:!1,text:n,linkProps:'target: "_blank"'})})]})}}(o=s||(s={})).voteDescription="問卷簡介",o.description="說明",o.link="連結";var H=t(7733),W=t.n(H);function G(n){let{data:e}=n,t=(0,N.ZP)(),[o,i]=(0,f.useState)("");return(0,f.useEffect)(()=>{if(e){var n,o,r;switch(e.voteType){case c.ended:i(null!==(n=null==t?void 0:t.commodity_info.vote_finished)&&void 0!==n?n:"已結束");break;case c.inProgress:i(null!==(o=null==t?void 0:t.commodity_info.vote_now)&&void 0!==o?o:"進行中");break;case c.expired:i(null!==(r=null==t?void 0:t.commodity_info.vote_expired)&&void 0!==r?r:"已過期");break;default:console.error("Unexpected voteType value:",e.voteType)}}},[e,null==t?void 0:t.commodity_info.vote_expired,null==t?void 0:t.commodity_info.vote_finished,null==t?void 0:t.commodity_info.vote_now]),(0,_.jsxs)("div",{className:W().container,children:[(0,_.jsxs)("div",{className:W().voucher_stat_div,children:[(0,_.jsx)("div",{className:W().stat_title,children:null==t?void 0:t.commodity_info.status}),(0,_.jsxs)("div",{className:W().stat_content,children:[(0,_.jsx)("a",{className:W().stat,children:o}),(0,_.jsxs)("a",{className:W().stat_date,children:["(",null==t?void 0:t.commodity_info.expriy," ",e.expiryDateForDisplay,")"]})]})]}),(0,_.jsx)("div",{className:W().mobile_divider}),(0,_.jsxs)("div",{className:W().voucher_stat_div,children:[(0,_.jsx)("a",{className:W().voter_title,children:null==t?void 0:t.commodity_info.vote_number}),(0,_.jsx)("div",{className:"".concat(W().stat_content_voter," ").concat(W().stat_content),children:(0,_.jsx)("a",{className:W().voter,children:e.totalVoteCount})})]})]})}function Y(n){let{info:e}=n,t=(0,N.ZP)();return(0,_.jsxs)("div",{className:C().row_main,children:[(0,_.jsx)("div",{className:"".concat(y().web_16pt_body_category_text_L," ").concat(C().row_title,"\n              "),children:null==t?void 0:t.commodity_info.vote_total}),(0,_.jsx)("div",{className:"".concat(y().web_16pt_body_red_L," ").concat(C().result),children:(()=>{var n,o,i;switch(e.voteType){case c.expired:return null!==(n=null==t?void 0:t.commodity_info.vote_over)&&void 0!==n?n:"統計已超過保存期限，故無紀錄";case c.inProgress:return null!==(o=null==t?void 0:t.commodity_info.vote_after)&&void 0!==o?o:"投票結果將於結束後公佈";default:return null!==(i=null==t?void 0:t.commodity_info.vote_result)&&void 0!==i?i:"統計結果"}})()})]})}(i=c||(c={}))[i.none=0]="none",i[i.inProgress=1]="inProgress",i[i.ended=2]="ended",i[i.expired=3]="expired";var X=t(9529),nn=t.n(X),ne=t(3098);function nt(){let n=(0,D._)(["\n  from {\n    left: -150%;\n  }\n  to {\n    left: 100%;\n  }\n"]);return nt=function(){return n},n}function no(){let n=(0,D._)(['\n  position: relative;\n  overflow: hidden;\n  &:before {\n    content: "";\n    position: absolute;\n    height: 100%;\n    width: 80px;\n    top: 0px;\n    background: linear-gradient(\n      to right,\n      transparent 0%,\n      #ffffff99 50%,\n      transparent 100%\n    );\n    animation: '," 1s cubic-bezier(0.4, 0, 0.2, 1) infinite;\n    box-shadow: 0 4px 10px 0 #ffffff33;\n  }\n"]);return no=function(){return n},n}function ni(){let n=(0,D._)(["\n  width: 100%;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  margin-top: 13px;\n\n  @media (max-width: ",") {\n    margin-top: 5px;\n  }\n"]);return ni=function(){return n},n}function nr(){let n=(0,D._)(["\n  width: 100%;\n  height: 12px;\n  background: var(--prussian-blue);\n  border-radius: 2px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return nr=function(){return n},n}function na(){let n=(0,D._)(["\n  background: ",";\n  width: ","%;\n  height: 12px;\n  border-radius: 2px;\n  transition: width 0.2s;\n  justify-self: center;\n  align-self: center;\n  ","\n"]);return na=function(){return n},n}function nl(){let n=(0,D._)(["\n  line-height: 10px;\n  text-align: center;\n  justify-self: center;\n  align-self: center;\n  margin-left: 10px;\n  font-size: 12px;\n  letter-spacing: normal;\n  min-width: 16px;\n  color: ",";\n"]);return nl=function(){return n},n}function ns(){let n=(0,D._)(["\n  text-align: left;\n  height: 17px;\n  margin: 4px 138px 0 0;\n  font-family: PingFangTC;\n  font-size: 12px;\n  font-weight: 500;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: normal;\n  letter-spacing: 1.33px;\n  color: ",";\n"]);return ns=function(){return n},n}let nc=(0,ne.F4)(nt()),nd=(0,ne.iv)(no(),nc),nu=T.Z.div(ni(),R.Z.breakpoints.phone),np=T.Z.div(nr()),n_=T.Z.div(na(),n=>n.$color,n=>n.$value,n=>n.$isStatusActive&&nd),nf=T.Z.div(nl(),n=>n.$color),nm=T.Z.div(ns(),n=>n.$color),nx=n=>n>100?100:n<0?0:n,nh=n=>0===n?nx(1):nx(100*n),nv=n=>"number"==typeof n&&0===n||null==n?"var(--midnight-blue)":"var(--maya-blue)",ng=n=>-1===n?"?%":(100*n).toFixed(1)+"%",nb=n=>null==n?"var(--midnight-blue)":"var(--maya-blue)",ny=(n,e)=>null==e?"".concat(n," ?"):"".concat(n," ")+nx(e);var nw=n=>{var e;let{className:t,value:o,themeColor:i,showInfo:r,isStatusActive:a,percent:l}=n,s=(0,N.ZP)(),c=null!==(e=null==s?void 0:s.commodity_info.people)&&void 0!==e?e:"人數";return(0,_.jsxs)(nu,{className:t,children:[(0,_.jsxs)(np,{className:"progress-bar__trail",children:[(0,_.jsx)(n_,{className:"progress-bar__track",$color:null!=i?i:nv(o),$value:nh(l),$isStatusActive:null!=a&&a}),r&&(0,_.jsx)(nf,{className:"progress-bar__info",$color:nb(o),children:ng(l)})]}),(0,_.jsx)(nm,{className:"progress-bar__counter",$color:nb(o),children:ny(c,o)})]})};function nj(){let n=(0,D._)(["\n  width: 30px;\n  height: 30px;\n  display: ",";\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  top: -4px;\n  margin-right: 10px;\n  margin-left: -5px;\n  cursor: ",";\n\n  @media (max-width: ",") {\n    width: 26px;\n    height: 26px;\n  }\n"]);return nj=function(){return n},n}function nk(){let n=(0,D._)(["\n  width: 20px;\n  height: 20px;\n  display: ",";\n  background: url(",");\n  background-size: cover;\n\n  @media (max-width: ",") {\n    width: 16px;\n    height: 16px;\n  }\n"]);return nk=function(){return n},n}(r=d||(d={}))[r.visible=0]="visible",r[r.invisible=1]="invisible",r[r.gone=2]="gone";let nZ=T.Z.div(nj(),n=>n.$display?"flex":"none",n=>n.$isDisabled?"default":"pointer",R.Z.breakpoints.phone),nC=T.Z.div(nk(),n=>n.$display?"block":"none",n=>n.$isChecked?M.M.desktop_icon_button_check_single:M.M.desktop_icon_button_check_default,R.Z.breakpoints.phone);function nN(n){let{display:e=0,isChecked:t=!1,disable:o=!1}=n;return(0,_.jsx)(nZ,{$isDisabled:o,$display:2!=e,children:(0,_.jsx)(nC,{$isChecked:t,$display:1!=e})})}var nS=t(7425),nI=t(4971),nV=t(9099),nP=t(7930);let nD=(0,nV.Ue)(n=>({commodity:null,setCommodity:e=>n({commodity:e}),fetchCommodityError:!1,fetchCommodity:async e=>{console.log("fetch item ".concat(e));let t=new nP.YU([e]);try{let e=L.Sl.shared,o=await e.send(t),i=null==o?void 0:o.itemSelectResponse.getItem(0);n({commodity:i})}catch(e){n({fetchCommodityError:!0}),console.error("Error fetching itemSelect: ".concat(e))}}}));function nE(){let n=(0,D._)(["\n  margin-top: 16px;\n  font-size: 16px;\n  color: var(--platinum);\n\n  @media (max-width: ",") {\n    font-size: 14px;\n    color: var(--pastel-blue);\n  }\n"]);return nE=function(){return n},n}function nL(){let n=(0,D._)(["\n  width: 100%;\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  cursor: pointer;\n  margin-top: 16px;\n  margin-left: 2px;\n"]);return nL=function(){return n},n}function nz(){let n=(0,D._)(["\n  font-size: 16px;\n  color: var(--platinum);\n\n  @media (max-width: ",") {\n    font-size: 14px;\n    color: var(--pastel-blue);\n  }\n"]);return nz=function(){return n},n}T.Z.div(nE(),R.Z.breakpoints.phone);let nT=T.Z.div(nL()),nR=T.Z.div(nz(),R.Z.breakpoints.phone);var nM=n=>{let{vote:e,onAnswerSelect:t,isChecked:o,showType:i,groupIndex:r,optionIndex:a}=n,l=(0,nI.Z)(n=>n.loginInfo),s=nD(n=>n.commodity),[u,p]=(0,f.useState)(null),[m,x]=(0,f.useState)(!1),[h,v]=(0,f.useState)(d.invisible);return(0,f.useEffect)(()=>{p(e.voteData[r].options[a])},[r,a,e.voteData]),(0,f.useEffect)(()=>{let n=e.voteType;if(n===c.expired)v(d.gone);else{let t=e.voteArrayData[r],o=e.isVoted;n===c.inProgress?l&&l.uid===(null==s?void 0:s.creatorId.toString())?v(d.gone):o?(x(!0),t===a?v(d.visible):v(d.invisible)):(v(d.visible),x(!1)):(n===c.ended&&(x(!0),o&&(t===a?v(d.visible):v(d.invisible))),v(d.gone))}},[r,null==s?void 0:s.creatorId,l,a,e.isVoted,e.voteArrayData,e.voteType]),(0,_.jsxs)(nT,{onClick:()=>{m||t(a)},children:[(0,_.jsx)(nN,{isChecked:o,display:h,disable:m}),(0,_.jsxs)("div",{style:{width:"100%"},children:[(0,_.jsx)(nR,{className:y().web_16pt_body_platinum_L,children:null==u?void 0:u.option}),i===nS.Q.show?(0,_.jsx)(nw,{showInfo:!0,value:u?u.voteCount:0,percent:u?u.percent():0}):i===nS.Q.questionMark?(0,_.jsx)(nw,{showInfo:!0,value:0,percent:1}):null]})]})},nF=t(5391),nO=t(901);t(2008);class nU{constructor(n,e,t){this.method=L.fM.Post,this.apiKind=L.eR.Local,this.url="vote/UserVote",this.body={ItemId:n,VoteArrayData:e,VoteToken:t}}}(a=u||(u={})).success="投票成功",a.failed="投票失敗",a.cannot="無法投票";let nA=(0,nV.Ue)((n,e)=>({client:L.Sl.shared,voteInfo:null,userVoteStatus:null,userVoteFailCode:null,userVoteCheck:[],fetchLoginVoteInfoError:!1,setVoteInfo:e=>n({voteInfo:e}),fetchLoginVoteInfo:async(t,o)=>{try{let{client:i}=e(),r=new nF.O(t,o),a=(await i.send(r)).getVoteInfoResponse.Vote(+t);n({voteInfo:a})}catch(e){n({fetchLoginVoteInfoError:!0}),console.error("fetch login VoteInfo error ".concat(e))}},fetchVoteInfo:async t=>{try{let{client:o}=e(),i=new nO.a(t),r=(await o.send(i)).getVoteInfoResponse.Vote(+t);n({voteInfo:r})}catch(n){console.error("fetch none login VoteInfo error ".concat(n))}},sendVote:async(t,o,i)=>{try{let{client:r}=e(),a=new nU(t,o,i),l=(await r.send(a)).getVoteInfoResponse.Vote(+t);n({voteInfo:l}),n({userVoteStatus:u.success})}catch(e){if(e instanceof Error){let t=e.cause;switch(null==t&&(t=e.message.split("status: ")[1]),t){case"72":case"73":case"74":n({userVoteStatus:u.cannot});break;default:n({userVoteStatus:u.failed})}n({userVoteFailCode:t})}console.error("fetch UserVote error ".concat(e))}},setUserVoteCheck:e=>{n({userVoteCheck:e})},clearVoteStatus:()=>{n({userVoteStatus:null,userVoteFailCode:null})}}));function nK(){let n=(0,D._)(["\n  color: ",";\n  font-size: 16px;\n  @media (max-width: ",") {\n    font-size: 14px;\n  }\n"]);return nK=function(){return n},n}function n$(){let n=(0,D._)(["\n  color: ",";\n  font-size: 16px;\n  padding-left: 118px;\n\n  @media (max-width: ",") {\n    font-size: 14px;\n    padding-left: 100px;\n    color: ",";\n  }\n"]);return n$=function(){return n},n}let nQ=T.Z.div(nK(),n=>{let{check:e}=n;return e?"var(--baby-blue-eyes)":"var(--outrageous-orange)"},R.Z.breakpoints.phone),nB=T.Z.div(n$(),n=>{let{check:e}=n;return e?"var(--platinum)":"var(--outrageous-orange)"},R.Z.breakpoints.phone,n=>{let{check:e}=n;return e?"var(--pastel-blue)":"var(--outrageous-orange)"});function nJ(n){let{vote:e,groupIndex:t,showType:o,selected:i}=n,[r,a]=(0,f.useState)(-1),[l,s]=(0,f.useState)(null),c=nA(n=>n.userVoteCheck),d=n=>{a(n),e.setOption(t,n)};return(0,f.useEffect)(()=>{s(e.voteData[t])},[l,t,e.voteData]),(0,f.useEffect)(()=>{i>=0&&a(i)},[i]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{style:{display:"flex",flexDirection:"row",height:"fit-content"},children:[(0,_.jsxs)(nQ,{check:!c.includes(t),className:"".concat(y().web_16pt_body_category_text_L),style:{position:"absolute"},children:["Q",t+1]}),(0,_.jsx)(nB,{check:!c.includes(t),className:y().web_16pt_body_platinum_L,children:null==l?void 0:l.voteTitle})]}),(0,_.jsx)("div",{className:nn().answer_container,children:null==l?void 0:l.options.map((n,i)=>(0,_.jsx)(nM,{vote:e,groupIndex:t,optionIndex:i,isChecked:r===n.index,onAnswerSelect:d,showType:o},i))})]})}function nq(){let n=(0,D._)(["\n  margin-top: 0px;\n"]);return nq=function(){return n},n}function nH(){let n=(0,D._)(["\n  width: 100%;\n  height: 8px;\n\n  @media (max-width: ",") {\n    height: 4px;\n  }\n"]);return nH=function(){return n},n}let nW=T.Z.div(nq()),nG=T.Z.div(nH(),R.Z.breakpoints.phone);function nY(n){let{data:e}=n;return(0,_.jsx)(nW,{children:e.voteData.map((n,t)=>(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{className:nn().vote_container,children:(0,_.jsx)(nJ,{vote:e,groupIndex:t,showType:e.voteShowType.type,selected:e.voteArrayData[t]},"VoteComponents"+t)}),(0,_.jsx)(nG,{},"VoteDivider"+t)]},"Vote"+t))})}var nX=t(4398),n0=t(7566),n1=t(722);function n2(){let n=(0,D._)(["\n  min-width: 100px;\n  min-height: 100px;\n  background-color: var(--prussian-blue);\n  border-radius: 16px;\n  padding-top: 32px;\n  padding-bottom: 24px;\n  padding-left: 100px;\n  padding-right: 100px;\n  width: fit-content;\n  align-self: center;\n  position: relative;\n\n  @media (max-width: ",") {\n    max-width: 327px;\n    padding-bottom: 24px;\n    padding-left: 17px;\n    padding-right: 17px;\n  }\n"]);return n2=function(){return n},n}function n6(){let n=(0,D._)(["\n  @media (max-width: ",") {\n    font-size: 20px;\n  }\n"]);return n6=function(){return n},n}function n4(){let n=(0,D._)(["\n  width: 40px;\n  height: 40px;\n  background: url(",");\n  cursor: pointer;\n  right: 36px;\n  top: 32px;\n  position: absolute;\n  background-size: cover;\n\n  @media (max-width: ",") {\n    width: 24px;\n    height: 24px;\n  }\n"]);return n4=function(){return n},n}function n3(){let n=(0,D._)(["\n  padding-top: 32px;\n\n  @media (max-width: ",") {\n    font-size: 14px;\n    color: var(--pastel-blue);\n    padding-top: 17px;\n  }\n"]);return n3=function(){return n},n}function n8(){let n=(0,D._)(["\n  position: relative;\n  border-radius: 6px;\n  background-color: white;\n  padding: 6px;\n  align-self: center;\n  display: flex;\n  width: fit-content;\n  margin-top: 36px;\n  left: 50%;\n  transform: translate(-50%);\n"]);return n8=function(){return n},n}function n5(){let n=(0,D._)(["\n  background-color: var(--maya-blue);\n  border-radius: 4px;\n  width: 280px;\n  height: 44px;\n  line-height: 44px !important;\n  font-size: 18px;\n  color: var(--oxford-blue);\n  font-align: center;\n  margin-top: 28px;\n  cursor: pointer;\n"]);return n5=function(){return n},n}function n7(){let n=(0,D._)(["\n  margin-top: 12px;\n"]);return n7=function(){return n},n}function n9(){let n=(0,D._)(["\n  margin-top: 36px;\n\n  @media (max-width: ",") {\n    font-size: 14px;\n    color: var(--pastel-blue);\n    margin-top: 28px;\n  }\n"]);return n9=function(){return n},n}let en=T.Z.div(n2(),R.Z.breakpoints.phone),ee=T.Z.div(n6(),R.Z.breakpoints.phone),et=T.Z.div(n4(),M.M.desktop_icon_dialog_delete_normal,R.Z.breakpoints.phone),eo=T.Z.div(n3(),R.Z.breakpoints.phone),ei=T.Z.div(n8()),er=T.Z.div(n5()),ea=T.Z.div(n7()),el=T.Z.div(n9(),R.Z.breakpoints.phone);var es=n=>{let{onTapClosed:e,onCountDownFinished:t,content:o}=n,i=(0,N.ZP)(),[r,a]=(0,f.useState)(600),l=(0,f.useRef)(performance.now()),s=(0,f.useRef)(600),c=(0,f.useRef)(void 0),d=(0,f.useCallback)(()=>{let n=performance.now()-l.current,e=Math.max(s.current-Math.floor(n/1e3),0);a(e),e>0?c.current=window.setTimeout(d,1e3):t&&t()},[t]);return(0,f.useEffect)(()=>(l.current=performance.now(),s.current=600,c.current=window.setTimeout(d,1e3),()=>{void 0!==c.current&&clearTimeout(c.current)}),[600,d]),(0,_.jsxs)(en,{children:[(0,_.jsx)(et,{onClick:e}),(0,_.jsx)(ee,{className:y().web_36pt_Display_s_maya_blue_C,children:null==i?void 0:i.commodity_info.vote_login}),(0,_.jsx)(eo,{className:y().web_20pt_title_m_white_C,children:null==i?void 0:i.commodity_info.vote_login_p}),nX.tq?(0,_.jsx)(er,{className:y().mobile_18pt_title_m_oxford_blue_C,onClick:()=>{window.location.href=o},children:null==i?void 0:i.information.__openQPP}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(ei,{children:(0,_.jsx)(n1.Z,{width:168,content:o})}),(0,_.jsx)(ea,{className:y().web_16pt_body_canary_yellow_C,children:null==i?void 0:i.commodity_info.scan_viaQPP})]}),(0,_.jsxs)(el,{className:y().web_20pt_title_m_white_C,children:[null==i?void 0:i.commodity_info.countdown,r,null==i?void 0:i.commodity_info.seconds]})]})};function ec(){let n=(0,D._)(["\n  padding-top: 36px;\n  @media (max-width: ",") {\n    padding-top: 12px;\n  }\n"]);return ec=function(){return n},n}function ed(){let n=(0,D._)(["\n  background: var(--maya-blue);\n  width: 360px;\n  height: 52px;\n  padding: 12px 18px;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-bottom: 36px;\n  position: relative;\n  left: 50%;\n  transform: translate(-50%);\n  text-align: center;\n  font-size: 20px;\n  color: var(--oxford-blue);\n\n  @media (max-width: ",") {\n    font-size: 18px;\n    width: 280px;\n    height: 44px;\n    margin-bottom: 12px;\n    padding: 10px 16px;\n  }\n"]);return ed=function(){return n},n}function eu(){let n=(0,D._)(["\n  color: var(--outrageous-orange);\n  font-size: ",";\n  text-align: center;\n  margin-bottom: 16px;\n"]);return eu=function(){return n},n}let ep=T.Z.div(ec(),R.Z.breakpoints.phone),e_=T.Z.div(ed(),R.Z.breakpoints.phone),ef=T.Z.div(eu(),n=>{let{isShow:e}=n;return e?"16px":"0"});var em=()=>{let n=(0,N.ZP)(),[e,t]=(0,f.useState)(!1),[o,i]=(0,f.useState)(!1),{fetchLoginToken:r,loginInfo:a,cancelCheckToken:l,vendorToken:s,clearVendorToken:c,loginCheckUrl:d}=(0,nI.Z)(n=>n),{voteInfo:u,sendVote:p,setUserVoteCheck:m}=nA(n=>n),x=()=>{l(),c()};return(0,f.useEffect)(()=>{if(o&&a&&a.isLogin&&(null==u?void 0:u.checkOption())){var n;p(null==u?void 0:null===(n=u.itemId)||void 0===n?void 0:n.toString(),null==u?void 0:u.voteArrayData,a.voteToken),i(!1)}},[o,a,p,u]),(0,_.jsxs)(ep,{children:[(0,_.jsx)(n0.Z,{openDialog:null!=s,closeOutside:x,children:(0,_.jsx)(es,{content:null!=d?d:"  ",onTapClosed:x,onCountDownFinished:x})}),(0,_.jsx)(ef,{isShow:e,children:null==n?void 0:n.commodity_info.vote_yet}),u&&!u.isVoted&&(0,_.jsx)(e_,{onClick:()=>{if(null==u?void 0:u.checkOption())m([]),t(!1),i(!0),(null==a?void 0:a.isLogin)||r();else{var n;m(null!==(n=null==u?void 0:u.getUnCheck())&&void 0!==n?n:[]),t(!0)}},children:null==n?void 0:n.commodity_info.vote_submit})]})},ex=t(1204);function eh(){let n=(0,D._)(["\n  position: fixed;\n  width: 81px;\n  height: 80px;\n  order: 990;\n  background: url(",");\n  background-size: cover;\n  right: 3%;\n  cursor: pointer;\n  bottom: 3%;\n\n  @media (max-width: ",") {\n    width: 55px;\n    height: 54px;\n  }\n"]);return eh=function(){return n},n}let ev=T.Z.div(eh(),M.M.desktop_button_down_send_normal,R.Z.breakpoints.phone);var eg=()=>((0,f.useEffect)(()=>{ex.polyfill()}),(0,_.jsx)(ev,{onClick:()=>{window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}})),eb=t(8852);function ey(){let n=(0,D._)(["\n  width: fit-content;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  position: relative;\n  left: 50%;\n  transform: translate(-50%);\n\n  @media (max-width: ",") {\n    flex-direction: column;\n  }\n"]);return ey=function(){return n},n}function ew(){let n=(0,D._)(["\n  width: 180px;\n  height: 119px;\n  background-image: url(",");\n"]);return ew=function(){return n},n}function ej(){let n=(0,D._)(["\n  width: 160px;\n  height: 119px;\n  background-image: url(",");\n"]);return ej=function(){return n},n}function ek(){let n=(0,D._)(["\n  margin-left: 16px;\n\n  @media (max-width: ",") {\n    margin-left: 0;\n    margin-top: 36px;\n    font-size: 20px;\n  }\n"]);return ek=function(){return n},n}let eZ=T.Z.div(ey(),R.Z.breakpoints.phone),eC=T.Z.div(ew(),M.M.pic_successful),eN=T.Z.div(ej(),M.M.pic_fail),eS=T.Z.div(ek(),R.Z.breakpoints.phone);var eI=n=>{let{type:e}=n,t=(0,N.ZP)();return(0,_.jsxs)(eZ,{children:[(0,_.jsx)(()=>e===u.success?(0,_.jsx)(eC,{}):(0,_.jsx)(eN,{}),{}),(0,_.jsx)(()=>{var n,o,i;switch(e){case u.success:return(0,_.jsx)(eS,{className:y().web_36pt_Display_s_maya_blue_C,children:null!==(n=null==t?void 0:t.commodity_info.vote_success)&&void 0!==n?n:"投票成功"});case u.failed:return(0,_.jsx)(eS,{className:y().web_36pt_Display_s_outrageous_orange_C,children:null!==(o=null==t?void 0:t.commodity_info.vote_fault)&&void 0!==o?o:"投票失敗"});default:return(0,_.jsx)(eS,{className:y().web_36pt_Display_s_outrageous_orange_C,children:null!==(i=null==t?void 0:t.commodity_info.vote_cannot)&&void 0!==i?i:"無法投票"})}},{})]})};function eV(){let n=(0,D._)(["\n  min-width: 100px;\n  min-height: 100px;\n  max-width: 780px;\n  background-color: var(--prussian-blue);\n  border-radius: 16px;\n  padding-top: 56px;\n  padding-bottom: 56px;\n  align-self: center;\n  position: relative;\n  padding-left: 24px;\n  padding-right: 24px;\n\n  @media (max-width: ",") {\n    max-width: 560px;\n  }\n\n  @media (max-width: ",") {\n    max-width: 327px;\n    padding-left: 12px;\n    padding-right: 12px;\n    padding-top: 32px;\n    padding-bottom: 24px;\n    border-radius: 4px;\n  }\n"]);return eV=function(){return n},n}function eP(){let n=(0,D._)(["\n  margin-top: 32px;\n  align-self: center;\n\n  @media (max-width: ",") {\n    word-wrap: break-word;\n  }\n\n  @media (max-width: ",") {\n    color: var(--pastel-blue);\n    font-size: 14px;\n    margin-top: 17px;\n  }\n"]);return eP=function(){return n},n}function eD(){let n=(0,D._)(["\n  width: 60%;\n  height: 64px;\n  line-height: 64px;\n  margin-top: 48px;\n  text-align: center;\n  color: var(--platinum);\n  font-size: 20px;\n  text-align: center;\n  border: 1px solid;\n  border-radius: 4px;\n  cursor: pointer;\n  position: relative;\n  left: 50%;\n  transform: translate(-50%);\n\n  @media (max-width: ",") {\n    width: 75%;\n  }\n\n  @media (max-width: ",") {\n    width: 90%;\n    height: 44px;\n    line-height: 44px;\n    font-size: 16px;\n    margin-top: 40px;\n  }\n"]);return eD=function(){return n},n}let eE=T.Z.div(eV(),R.Z.breakpoints.tablets,R.Z.breakpoints.phone),eL=T.Z.div(eP(),R.Z.breakpoints.tablets,R.Z.breakpoints.phone),ez=T.Z.div(eD(),R.Z.breakpoints.tablets,R.Z.breakpoints.phone);var eT=n=>{let{type:e=u.success,code:t,onTapClosed:o}=n,i=(0,N.ZP)(),[r,a]=(0,f.useState)("");return(0,f.useEffect)(()=>{var n,o,r,l,s,c,d,p,_;if(e===u.success)a(null!==(n=null==i?void 0:i.commodity_info.vote_success_p)&&void 0!==n?n:"將於APP收到歷程紀錄，投票結果依照創建者設定公布結果");else switch(t){case"9":a(null!==(o=null==i?void 0:i.commodity_info.vote_error9)&&void 0!==o?o:"此物品不可投票，請聯繫客服");break;case"12":a(null!==(r=null==i?void 0:i.commodity_info.vote_error12)&&void 0!==r?r:"資料錯誤，請聯繫客服");break;case"18":a(null!==(l=null==i?void 0:i.commodity_info.vote_error18)&&void 0!==l?l:"投票過程發生問題，請稍後重新嘗試");break;case"22":a(null!==(s=null==i?void 0:i.commodity_info.vote_error22)&&void 0!==s?s:"此帳號被停權，無法進行投票");break;case"30":a(null!==(c=null==i?void 0:i.commodity_info.vote_error30)&&void 0!==c?c:"伺服器忙碌中，請稍後重新嘗試");break;case"72":a(null!==(d=null==i?void 0:i.commodity_info.vote_error72)&&void 0!==d?d:"因您為問卷創建者，會帶您前往統計結果");break;case"73":a(null!==(p=null==i?void 0:i.commodity_info.vote_error73)&&void 0!==p?p:"投票時間已截止，帶您前往統計結果");break;case"74":a(null!==(_=null==i?void 0:i.commodity_info.vote_error74)&&void 0!==_?_:"您已投過票，帶您前往統計結果");break;default:a(" ")}},[t,null==i?void 0:i.commodity_info.vote_error12,null==i?void 0:i.commodity_info.vote_error18,null==i?void 0:i.commodity_info.vote_error22,null==i?void 0:i.commodity_info.vote_error30,null==i?void 0:i.commodity_info.vote_error72,null==i?void 0:i.commodity_info.vote_error73,null==i?void 0:i.commodity_info.vote_error74,null==i?void 0:i.commodity_info.vote_error9,null==i?void 0:i.commodity_info.vote_success_p,e]),(0,_.jsxs)(eE,{children:[(0,_.jsx)(eI,{type:e}),(0,_.jsx)(eL,{className:y().web_20pt_title_m_white_C,children:r}),(0,_.jsx)(ez,{className:"btn-confirm",onClick:o,children:null==i?void 0:i.alert.__confirm})]})};function eR(n){let{item:e}=n,{loginInfo:t}=(0,nI.Z)(n=>n),{fetchLoginVoteInfo:o,fetchVoteInfo:i,voteInfo:r,userVoteStatus:a,userVoteFailCode:l,clearVoteStatus:d,fetchLoginVoteInfoError:u}=nA(n=>n),{commodity:p}=nD(n=>n);console.log("is Legacy Browser: ".concat(nX.jU));let[m,x]=(0,f.useState)(0),[v,g]=(0,f.useState)(!0);return(0,f.useEffect)(()=>{x(Date.now())},[]),(0,f.useEffect)(()=>{t?o(e.id.toString(),t.voteToken):i(e.id.toString())},[o,i,e.id,t]),(0,f.useEffect)(()=>{u&&i(e.id.toString())},[u,i,e.id]),(0,f.useEffect)(()=>{if(t&&(null==p?void 0:p.creatorId.toString())===t.uid){g(!1);return}(null==r?void 0:r.voteType)===c.inProgress?r.isVoted?g(!1):g(!0):g(!1)},[null==p?void 0:p.creatorId,t,null==r?void 0:r.isVoted,null==r?void 0:r.voteType]),(0,_.jsxs)(j.Z,{children:[(0,_.jsx)(n0.Z,{openDialog:null!=a,children:(0,_.jsx)(eT,{type:a,code:null!=l?l:"",onTapClosed:()=>{d()}})}),(0,_.jsxs)(k.Z,{children:[(0,_.jsx)(h.Z,{path:(0,eb.z3)(e.creatorId,e.id,m)}),(0,_.jsx)(w,{name:e.name})]}),r&&(0,_.jsx)(G,{data:r}),(0,_.jsxs)(P,{children:[(0,_.jsx)(V,{itemData:e}),(0,_.jsx)(A,{creator:e.creatorId}),(0,_.jsx)(q,{type:s.link,id:e.id.toString()},s.link),(0,_.jsx)(q,{type:s.voteDescription,id:e.id.toString()},s.voteDescription),r&&(0,_.jsx)(Y,{info:r})]}),r&&(0,_.jsx)(nY,{data:r}),v?(0,_.jsx)(em,{}):null,(0,_.jsx)(eg,{})]})}var eM=t(3231),eF=t.n(eM);t(5880);var eO=t(6907);function eU(){let[n,e]=(0,f.useState)(null),{commodity:t}=nD(n=>n),o=(0,N.ZP)();console.log("is Legacy Browser: ".concat(nX.jU));let[i,r]=(0,f.useState)(0);return((0,f.useEffect)(()=>{r(Date.now())},[]),(0,f.useEffect)(()=>{e(window.location.href)},[]),null===t)?null:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(j.Z,{children:[(0,_.jsxs)(k.Z,{children:[(0,_.jsx)(h.Z,{path:(0,eb.z3)(t.creatorId,t.id,i)}),(0,_.jsx)(w,{name:t.name})]}),(0,_.jsxs)(P,{children:[(0,_.jsx)(V,{itemData:t}),(0,_.jsx)(A,{creator:t.creatorId}),(0,_.jsx)(q,{type:s.link,id:t.id.toString()},s.link),(0,_.jsx)(q,{type:s.description,id:t.id.toString()},s.description)]})]}),n&&(0,_.jsx)(eO.Z,{content:n,id:t.id.toString(),mobileContent:null==o?void 0:o.commodity_info.launch_QPP})]})}var eA=t(2871);let eK=(0,nV.Ue)((n,e)=>({nft:null,properties:[],stats:[],levels:[],boosts:[],dates:[],fetchNftError:!1,fetchNft:async e=>{try{let t=eA.G.storage+"NFTMetadata/".concat(e,".json"),o=await fetch(t),i=await o.json();n({nft:i})}catch(e){n({fetchNftError:!0}),console.error("Error fetching nft meta data: ".concat(e))}},infoHandler:()=>{let{nft:t}=e(),o=[],i=[],r=[],a=[],l=[];for(let n of null==t?void 0:t.attributes)if(n.display_type)switch(n.display_type){case"number":i.push(n);break;case"boost_percentage":case"boost_number":a.push(n);break;case"date":l.push(n)}else"number"==typeof n.value?r.push(n):o.push(n);n({properties:o,stats:i,levels:r,boosts:a,dates:l})}}));var e$=t(4367),eQ=t.n(e$),eB=t(7460),eJ=t(8136);function eq(){let n=(0,D._)(["\n  width: 36px;\n  height: 36px;\n  position: absolute;\n  right: 6.5px;\n  bottom: 6.5px;\n  cursor: pointer;\n\n  @media (max-width: ",") {\n    width: 28px;\n    height: 28px;\n    right: 5.2px;\n    bottom: 5.2px;\n  }\n"]);return eq=function(){return n},n}let eH=(0,T.Z)(eB.Z)(eq(),R.Z.breakpoints.phone);function eW(n){let{path:e,bgColor:t}=n,[o,i]=(0,f.useState)(!1),r=()=>{i(!1)};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:eQ().nft_avatar,style:{position:"relative",borderRadius:"8px",overflow:"hidden",backgroundColor:"".concat(t)},children:[(0,_.jsx)(function(){let{data:n,error:t,isLoading:o}=(0,z.ZP)("item_img",()=>fetch(null!=e?e:new URL("")).then(n=>n.blob()),{revalidateOnFocus:!1});if(n&&"image/png"===n.type){let e=URL.createObjectURL(n);return(0,_.jsx)(eB.Z,{className:eQ().nft_avatar,src:e,alt:""})}return(0,_.jsx)(eB.Z,{className:eQ().nft_avatar,src:M.M.desktop_pic_commodity_avatar_default,alt:""})},{}),(0,_.jsx)(eH,{alt:"",src:M.M.desktop_icon_image_magnifier,onClick:()=>{i(!0)}})]}),(0,_.jsx)(eJ.Z,{show:o,onHide:r,animation:!1,style:{zIndex:"1280"},children:(0,_.jsx)("div",{style:{width:"100%",height:"100%",position:"fixed",left:"0",top:"0",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},onClick:r,children:(0,_.jsx)(eB.Z,{src:e,alt:"",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)"}})})})]})}var eG=t(8721),eY=t(5883),eX=t(5247);function e0(){let n=(0,D._)(["\n  background-color: var(--st-patrick-s-blue);\n  height: 50px;\n  align-items: center;\n  padding-left: 60px;\n  padding-right: 60px;\n  display: flex;\n  flex-direction: row;\n  position: relative;\n\n  @media (max-width: ",") {\n    padding-left: 12px;\n    padding-right: 12px;\n  }\n"]);return e0=function(){return n},n}function e1(){let n=(0,D._)(["\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  right: 60px;\n  transform: rotate(",");\n  transition: transform 300ms ease;\n\n  @media (max-width: ",") {\n    width: 16px;\n    height: 16px;\n    right: 12px;\n  }\n"]);return e1=function(){return n},n}function e2(){let n=(0,D._)(["\n  width: 28px;\n  height: 28px;\n\n  @media (max-width: ",") {\n    width: 24px;\n    height: 24px;\n  }\n"]);return e2=function(){return n},n}function e6(){let n=(0,D._)(["\n  padding-left: 16px;\n  @media (max-width: ",") {\n    padding-left: 12px;\n    font-size: 16px;\n  }\n"]);return e6=function(){return n},n}let e4=T.Z.div(e0(),R.Z.breakpoints.phone),e3=(0,T.Z)(eB.Z)(e1(),n=>n.$onTranslate?"0deg":"-180deg",R.Z.breakpoints.phone),e8=(0,T.Z)(eB.Z)(e2(),R.Z.breakpoints.phone),e5=T.Z.div(e6(),R.Z.breakpoints.phone);function e7(n){let{eventKey:e,icon:t,content:o}=n,{activeEventKey:i}=(0,f.useContext)(eY.Z),r=(0,eX.k)(e),a=null==i?void 0:i.includes(e);return(0,_.jsxs)(e4,{onClick:r,children:[(0,_.jsx)(e8,{alt:"",src:t}),(0,_.jsx)(e5,{className:y().web_18pt_title_s_babyblueeye_L,children:o}),(0,_.jsx)(e3,{$onTranslate:null==a||a,alt:"",src:M.M.desktop_icon_list_selection_arrow_up})]})}class e9{static getInstance(){return e9.instance||(e9.instance=new e9),e9.instance}userIdToInvitationCode(n){if(n.length<=9)return"";let e=[1,6,2,9,3,5,4,8],t=n.split("").map(n=>n.charCodeAt(0));for(let n=0;n<e.length-1;n+=2){let o=t[t.length-e[n+1]];t[t.length-e[n+1]]=t[t.length-e[n]],t[t.length-e[n]]=o}let o=String.fromCharCode(...t),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","J","K","L","M","N","P","Q","R","S","T","U","V","W","X","Y"],r="";for(let n=0;n<o.length;n+=3){let e=parseInt(o.substring(n,n+3));r+=i[Math.floor(e/i.length)]+i[e%i.length]}return r}invitationCodeToUserId(n){if(0===n.length||n.length%2!=0||n.length<=6)return"";let e="0123456789ABCDEFGHJKLMNPQRSTUVWXY",t="";for(let o=0;o<n.length;o+=2){let i=n.charAt(o),r=n.charAt(o+1);if(!e.includes(i)||!e.includes(r))return"";t+=(e.indexOf(i)*e.length+e.indexOf(r)).toString().padStart(3,"0")}let o=[1,6,2,9,3,5,4,8],i=t.length;for(let n=0;n<o.length;n+=2){let e=t.charAt(i-o[n+1]);t=this.replaceCharAtIndex(t,i-o[n+1],t.charAt(i-o[n])),t=this.replaceCharAtIndex(t,i-o[n],e)}return t}replaceCharAtIndex(n,e,t){if(e<0||e>=n.length)return n;let o=n.substring(0,e),i=n.substring(e+1);return"".concat(o).concat(t).concat(i)}constructor(){}}var tn=e9.getInstance();function te(){let n=(0,D._)(["\n  padding-left: 120px;\n\n  @media (max-width: ",") {\n    padding-left: 100px;\n  }\n"]);return te=function(){return n},n}let tt=T.Z.div(te(),R.Z.breakpoints.phone);function to(n){let{type:e,content:t}=n,o=(0,N.ZP)(),[i,r]=(0,f.useState)("");return(0,f.useEffect)(()=>{o&&("說明"===e?r(null==o?void 0:o.commodity_info.info):r(null==o?void 0:o.commodity_info.title))},[o,null==o?void 0:o.commodity_info.info,null==o?void 0:o.commodity_info.title,e]),(0,_.jsxs)("div",{className:C().row_main,children:[(0,_.jsx)("div",{className:"".concat(y().web_16pt_body_category_text_L," ").concat(C().row_link_title,"\n    "),children:i}),(0,_.jsx)(tt,{children:(0,_.jsx)(K.Z,{disableUrlStripping:!1,text:""===t?" ":t})})]})}function ti(){let n=(0,D._)(["\n  position: relative;\n  padding-left: 60px;\n  padding-right: 60px;\n  padding-top: 32px;\n\n  @media (max-width: ",") {\n    padding-left: 12px;\n    padding-right: 12px;\n    padding-top: 16px;\n  }\n"]);return ti=function(){return n},n}(l=p||(p={})).description="說明",l.link="連結";let tr=T.Z.div(ti(),R.Z.breakpoints.phone);function ta(n){let{nft:e}=n;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(e7,{eventKey:"0",icon:M.M.desktop_icon_commodity_nft_describe,content:"Description"}),(0,_.jsx)(eG.Z.Collapse,{eventKey:"0",children:(0,_.jsxs)(tr,{children:[(0,_.jsx)(A,{creator:+tn.invitationCodeToUserId(e.publisher),isPublisher:!0}),(0,_.jsx)(to,{type:p.link,content:e.external_url}),(0,_.jsx)(to,{type:p.description,content:e.description})]})})]})}function tl(){let n=(0,D._)(["\n  width: 223px;\n  margin: 0 12px 12px 0;\n  padding: 16px 58px 28px 20px;\n  border-radius: 8px;\n  border: solid 1px var(--dark-pastel-blue);\n  background-color: var(--st-patrick-s-blue);\n\n  @media (max-width: ",") {\n    width: 147.5px;\n    margin: 0 0 8px 8px;\n    padding: 14px 16.6px 18px 16.6px;\n    font-size: 14px;\n  }\n"]);return tl=function(){return n},n}function ts(){let n=(0,D._)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n\n  @media (max-width: ",") {\n    justify-content: center;\n  }\n"]);return ts=function(){return n},n}let tc=T.Z.div(tl(),R.Z.breakpoints.phone),td=T.Z.div(ts(),R.Z.breakpoints.phone);function tu(n){let{data:e}=n;return(0,_.jsxs)("div",{children:[(0,_.jsx)(e7,{eventKey:"1",icon:M.M.desktop_icon_commodity_nft_properties,content:"Properties"}),(0,_.jsx)(eG.Z.Collapse,{eventKey:"1",children:(0,_.jsx)(td,{className:eQ().nftInfoCollapse,children:e.map((n,e)=>(0,_.jsxs)(tc,{className:y().web_16pt_body_platinum_L,children:[n.trait_type,(0,_.jsx)("br",{}),n.value]},e))})})]})}function tp(){let n=(0,D._)(["\n  @media (max-width: ",") {\n    font-size: 14px !important;\n  }\n"]);return tp=function(){return n},n}function t_(n){let{data:e}=n;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(e7,{eventKey:"2",icon:M.M.desktop_icon_commodity_nft_stats,content:"Status"}),(0,_.jsx)(eG.Z.Collapse,{eventKey:"2",children:(0,_.jsx)("div",{className:eQ().nftInfoCollapse,children:e.map((n,e)=>(0,_.jsxs)("div",{className:"".concat(y().web_16pt_body_platinum_L," ").concat(eQ().info_content),children:[n.trait_type," ",n.value," of ",n.max_value]},e))})})]})}T.Z.div(tp(),R.Z.breakpoints.phone);var tf=t(7792);function tm(){let n=(0,D._)(["\n  @media (max-width: ",") {\n    font-size: 14px;\n  }\n"]);return tm=function(){return n},n}function tx(){let n=(0,D._)(["\n  border-radius: 2px;\n  height: 12px;\n  margin-top: 15px;\n  background-color: var(--midnight-blue);\n\n  @media (max-width: ",") {\n    height: 8px;\n  }\n"]);return tx=function(){return n},n}let th=T.Z.div(tm(),R.Z.breakpoints.phone),tv=(0,T.Z)(tf.Z)(tx(),R.Z.breakpoints.phone);function tg(n){let{data:e}=n;return(0,_.jsxs)("div",{children:[(0,_.jsx)(e7,{eventKey:"3",icon:M.M.desktop_icon_commodity_nft_levels,content:"Levels"}),(0,_.jsx)(eG.Z.Collapse,{eventKey:"3",children:(0,_.jsxs)("div",{className:eQ().nftInfoCollapse,style:{paddingBottom:"20px"},children:[(0,_.jsxs)(th,{className:y().web_16pt_body_platinum_L,children:[e.trait_type," ",e.value," of ",e.max_value]}),(0,_.jsx)(tv,{now:+e.value,variant:"info"})]})})]})}function tb(){let n=(0,D._)(["\n  margin: 0 0 12px 0;\n  padding: 16px 16px 20px 20px;\n  border-radius: 8px;\n  border: solid 1px var(--dark-pastel-blue);\n  background-color: var(--st-patrick-s-blue);\n\n  @media (max-width: ",") {\n    font-size: 14px;\n  }\n"]);return tb=function(){return n},n}let ty=T.Z.div(tb(),R.Z.breakpoints.phone);function tw(n){let{data:e}=n,t=n=>"boost_number"===n.display_type?"+".concat(n.value):"+".concat(n.value,"%");return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(e7,{eventKey:"4",icon:M.M.desktop_icon_commodity_nft_boosts,content:"Boosts"}),(0,_.jsx)(eG.Z.Collapse,{eventKey:"4",children:(0,_.jsx)("div",{className:eQ().nftInfoCollapse,children:e.map((n,e)=>(0,_.jsxs)(ty,{className:y().web_16pt_body_platinum_L,children:[n.trait_type," ",t(n)]},e))})})]})}var tj=t(3367),tk=t(5603);function tZ(){let n=(0,D._)(["\n  @media (max-width: ",") {\n    font-size: 14px;\n  }\n"]);return tZ=function(){return n},n}let tC=T.Z.div(tZ(),R.Z.breakpoints.phone);function tN(n){let{data:e}=n,t=n=>{let e=(0,tj.K)(+n.value);return(0,tk.WU)(e,"yyyy/MM/dd")};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(e7,{eventKey:"5",icon:M.M.desktop_icon_commodity_nft_date,content:"Date"}),(0,_.jsx)(eG.Z.Collapse,{eventKey:"5",children:(0,_.jsxs)("div",{className:"".concat(eQ().nftInfoCollapse," "),children:[(0,_.jsxs)(tC,{style:{marginBottom:"16px"},className:y().web_16pt_body_platinum_L,children:[e[0].trait_type," ",t(e[0])]}),(0,_.jsxs)(tC,{className:y().web_16pt_body_platinum_L,children:[e[1].trait_type," ",t(e[1])]})]})})]})}function tS(){let n=(0,D._)(["\n  background-image: url(",");\n  background-size: cover;\n  background-repeat: no-repeat;\n  justify-content: center;\n  display: flex;\n  min-height: 292px;\n  width: 100%;\n  background-position: 50%;\n  padding-top: 48px;\n\n  @media (max-width: ",") {\n    background-image: url(/assets/mobile-pic-commodity-largepic-sample-general.png);\n    height: 230px;\n  }\n"]);return tS=function(){return n},n}function tI(){let n=(0,D._)(["\n  position: absolute;\n  text-align: center;\n  word-break: break-all;\n  color: white;\n  margin-top: 220px;\n  width: 90%;\n\n  @media (max-width: ",") {\n    margin-top: 200px;\n  }\n"]);return tI=function(){return n},n}function tV(){let n=(0,D._)(["\n  margin-top: 20px;\n  @media (max-width: ",") {\n    margin-top: 0;\n  }\n"]);return tV=function(){return n},n}let tP=T.Z.div(tS(),M.M.desktop_pic_commodity_largepic_sample_general,R.Z.breakpoints.phone),tD=T.Z.div(tI(),R.Z.breakpoints.phone),tE=(0,T.Z)(eG.Z)(tV(),R.Z.breakpoints.phone);function tL(){let[n,e]=(0,f.useState)(null),{nft:t,infoHandler:o,properties:i,stats:r,levels:a,boosts:l,dates:s}=eK(n=>n);console.log("is Legacy Browser: ".concat(nX.jU));let[c,d]=(0,f.useState)(0),u=(0,N.ZP)();return(0,f.useEffect)(()=>{d(Date.now())},[]),(0,f.useEffect)(()=>{e(window.location.href)},[]),(0,f.useEffect)(()=>{t&&o()},[o,t]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(j.Z,{children:[(0,_.jsxs)(tP,{children:[(0,_.jsx)(eW,{path:t.image,bgColor:(null==t?void 0:t.background_color)?(null==t?void 0:t.background_color.includes("#"))?null==t?void 0:t.background_color:"#".concat(null==t?void 0:t.background_color):"white"}),(0,_.jsx)(tD,{className:y().web_20pt_title_m_white_C,children:t.name})]}),(0,_.jsxs)(tE,{className:eQ().accordion,defaultActiveKey:["0","1","2","3","4","5"],alwaysOpen:!0,children:[t&&(0,_.jsx)(ta,{nft:t}),i.length>0&&(0,_.jsx)(tu,{data:i}),r.length>0&&(0,_.jsx)(t_,{data:r}),a.length>0&&(0,_.jsx)(tg,{data:a[0]}),l.length>0&&(0,_.jsx)(tw,{data:l}),s.length>0&&(0,_.jsx)(tN,{data:s})]})]}),n&&(0,_.jsx)(eO.Z,{content:n,id:"",mobileContent:null==u?void 0:u.commodity_info.launch_QPP})]})}var tz=t(8709);function tT(){let[n,e]=(0,f.useState)(null),{commodity:t,fetchCommodity:o,fetchCommodityError:i}=nD(n=>n),{nft:r,fetchNft:a,fetchNftError:l}=eK(n=>n);return((0,f.useEffect)(()=>{e(window.location.href);let n=new URLSearchParams(document.location.search),t=n.get("metadataID"),i=n.get("commodityID");null!=t||(null==i?void 0:i.isNFTId())?a(null!=t?t:i):o(i)},[o,a]),(0,f.useEffect)(()=>{n&&console.log("full url: ".concat(n))},[n]),l||i)?(0,_.jsx)(tz.default,{}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(m.Z,{}),(0,_.jsx)(x.Z,{}),(0,_.jsx)("div",{className:eF().content,children:null!=r?(0,_.jsx)(tL,{}):(null==t?void 0:t.category.type)===S.O.questionnaire?(0,_.jsx)(eR,{item:t}):(0,_.jsx)(eU,{})})]})}},4367:function(n){n.exports={nft_avatar:"NftComponent_nft_avatar__SuGcE",avatarDialog:"NftComponent_avatarDialog__u1oNZ",nftInfoCollapse:"NftComponent_nftInfoCollapse__oZJPh",info_content:"NftComponent_info_content__hRdP7"}},4759:function(n){n.exports={info_row_container:"InfoRow_info_row_container__XPLmT",row_main:"InfoRow_row_main__Ab3wp",row_title:"InfoRow_row_title___oDKL",row_link_title:"InfoRow_row_link_title__E_4wH",category_row_name:"InfoRow_category_row_name__EWSZd",category_row_item_serial:"InfoRow_category_row_item_serial___mDh8",category_icon:"InfoRow_category_icon__zZRgu",creator_official_icon:"InfoRow_creator_official_icon__hbnS_",creator_arrow_right:"InfoRow_creator_arrow_right__S5Cvc",creator_name:"InfoRow_creator_name__AvJwx",creator_id:"InfoRow_creator_id___AspV",creator_content:"InfoRow_creator_content___3Vje",result:"InfoRow_result__jiV1x"}},9529:function(n){n.exports={vote_container:"VoteComponent_vote_container__QmErV",answer_container:"VoteComponent_answer_container__CdpQs"}},7733:function(n){n.exports={container:"VoucherStat_container__as_QD",voucher_stat_div:"VoucherStat_voucher_stat_div__ABrpd",mobile_divider:"VoucherStat_mobile_divider__p_Ddy",stat_title:"VoucherStat_stat_title__8i9U7",voter_title:"VoucherStat_voter_title__NlZyp",stat_content:"VoucherStat_stat_content__tYM99",stat_content_voter:"VoucherStat_stat_content_voter__PUqJJ",stat:"VoucherStat_stat__OeKJ4",stat_date:"VoucherStat_stat_date__U1oGU",voter:"VoucherStat_voter__FKLyN"}}}]);